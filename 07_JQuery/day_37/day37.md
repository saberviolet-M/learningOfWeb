# day37

## JQuery

###  $入口函数

> * window.onload()---原生JS入口函数
>   * 等待html标签、dom树渲染完成、图片文件等资源**全部加载完成**后触发事件
> * JQuery入口函数
>   * 等待html标签和dom树渲染完成就触发函数执行
> * $是JQuery顶级对象，是`JQuery`的简写

```js
// 监测document文档, 标签准备就绪, 触发ready里的回调函数
$(document).ready(function () {});

// 是ready的简化写法
$(function () {});
```

### 获取标签

- 基础选择器

  ```js
  $('选择器')//同CSS中选择器
  ```

- 筛选选择器

  | 名称     | 用法                               | 描述                                                         |
  | -------- | ---------------------------------- | ------------------------------------------------------------ |
  | 筛选     | $("css选择器:eq(n)")               | 选中css选择器集合中指定下标的标签                            |
  |          | $("css选择器").eq(n)               | 同上                                                         |
  | 上级     | $("选择器").parent()               | 获取父级元素                                                 |
  |          | $("选择器").parents("选择器")      | 获取祖先级元素（可指定祖先元素），parents()括号内**不写选择器**获取所有祖先元素的集合 |
  | 子代元素 | $("css选择器").children(‘"选择器") | 获取子代元素，括号内**不写选择器**则是所有子元素集合         |
  | 指定后代 | $("css选择器").find("选择器")      | 查找后代目标元素                                             |
  | 兄弟元素 | $("css选择器").siblings()          | 查找目标的**同辈**兄弟元素的集合，siblings()内写入选择器可指定兄弟 |

### 原生与JQuery对象的相互转换

> JQ对象(包括获取的标签集合对象) 都**不能调用**原生的**属性**或**方法**, 反之亦然

```js
// 1. JQ对象 -> 原生JS标签对象
var theDiv = $("#myDiv")[0]; // 直接从JQ对象里取出原生的标签
/* var theDiv = $("#myDiv").get(0); //也能这么写 */
theDiv.innerHTML = "哈哈哈"; // 能调用原生的属性使用

// 2. 原生JS标签对象 -> JQ对象
var theDiv = document.getElementById("myDiv");
$(theDiv).html("我是JQ赋予的值"); // $()可以把万物转换成JQ对象, 然后就能调用JQ所属的属性/方法使用
```

### 注册事件

```js
// JQ绑定事件的语法: 可以查看API文档
// 方式1:
// 语法: 事件源.on("去掉on的事件类型", 事件处理函数)
$("选择器").on("事件类型", function(){})

// 方式2:
// 语法: 事件源.事件类型(事件处理函数)
$("选择器").click(function(){})

// 注意, JQuery对象内置循环(隐式迭代)

// JQuery - 事件委托（代理）--- 给父元素绑定事件，后天创建的子元素也能获取事件
$("父元素").on("事件类型", "需要代理的元素", function(){})
```

### $-样式操作

- 获取

  ```js
  $("css选择器").css("css属性名")
  ```

- 设置

  ```js
  /* 键值对设置 */
  $("选择器").css("属性名", "值")
  
  /* 对象设置 */
  $("选择器").css({
      属性名: "值",
      属性名: "值",
      属性名: "值",
  })
  ```

- 操作类名

  ```js
  /* 多个类名通过空格隔开 */
  .addClass("类名 类名")// 添加
  .removeClass("类名 类名")// 移除
  .toggleClass("类名 类名")// 切换
  .hasClass("类名 类名")// 查找---有就返回true
  ```

###  链式编程_及其原理

* JQuery方法的**返回值**是当前操作的JQuery对象**(里面包含你正在操作的标签)**，那么那意味可以继续使用JQuery对象上各种方法
* 链式编程是为了节省代码量

### $-效果

#### 显示隐藏

```js
.show([speed,[easing],[fn]])// 显示
.hide([speed,[easing],[fn]])// 隐藏
.toggle([speed,[easing],[fn]])// 切换
```

#### 滑动

```js
.slideDown([speed,[easing],[fn]])// 向下拉出
.slideUp([speed,[easing],[fn]])// 向上收起
.slideToggle([speed,[easing],[fn]])// 切换
```

#### 淡入淡出

```js
.fadeIn([speed],[easing],[fn])// 淡入
.fadeOut([speed],[easing],[fn])// 淡出
.fadeToggle([speed],[easing],[fn])// 切换
```

#### 参数含义

- **speed：**三种预定速度之一的字符串

  - "slow"---600毫秒
  - "normal"---400毫秒
  - "fast"---200毫秒

  - 表示动画时长的**毫秒数值**(如：1000)
- **easing：**用来指定切换效果
  
  - 默认是"swing"
  - 可用参数"linear"
- **fn：**在动画完成时执行的函数，每个元素执行一次
- **原理总结：** 使用了JS代码（控制，宽`width`、高`height`、透明度`opacity`）来控制动画出现, 使用`display`控制标签出现/隐藏